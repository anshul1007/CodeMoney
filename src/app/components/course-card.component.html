<div class="bg-white rounded-xl sm:rounded-2xl shadow-lg overflow-hidden">
  <!-- Course Header - Mobile optimized -->
  <div
    class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 sm:p-6"
  >
    <div class="flex items-center space-x-3">
      <span class="text-2xl sm:text-3xl lg:text-4xl flex-shrink-0">
        {{ course.icon }}
      </span>
      <div class="min-w-0 flex-1">
        <h2 class="text-lg sm:text-xl lg:text-2xl font-bold truncate">
          {{ course.title }}
        </h2>
        <p class="text-blue-100 text-sm sm:text-base mt-1 line-clamp-2">
          {{ course.description }}
        </p>
      </div>
    </div>
  </div>

  <!-- Units - Mobile first spacing -->
  <div class="p-3 sm:p-4 lg:p-6 space-y-3 sm:space-y-4 lg:space-y-6">
    <div
      *ngFor="let unit of course.units"
      class="border border-gray-200 rounded-lg sm:rounded-xl overflow-hidden"
    >
      <!-- Unit Header - Compressed for mobile -->
      <div class="bg-gray-50 p-3 sm:p-4 border-b border-gray-200">
        <div>
          <h3
            class="text-sm sm:text-base lg:text-lg font-bold text-gray-800 truncate"
          >
            {{ unit.title }}
          </h3>
          <p class="text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2">
            {{ unit.description }}
          </p>
        </div>
      </div>

      <!-- Lessons - Mobile optimized -->
      <div class="p-2 sm:p-3 lg:p-4 space-y-2 sm:space-y-3 lg:space-y-4">
        <div
          *ngFor="let lesson of unit.lessons"
          class="border border-gray-100 rounded-lg overflow-hidden"
        >
          <!-- Lesson Header - Minimal for mobile -->
          <div class="bg-gray-25 p-2 sm:p-3 border-b border-gray-100">
            <div>
              <h4
                class="font-semibold text-gray-800 text-xs sm:text-sm lg:text-base truncate"
              >
                {{ lesson.title }}
              </h4>
              <p
                class="text-xs text-gray-500 mt-1 line-clamp-1 sm:line-clamp-2"
              >
                {{ lesson.description }}
              </p>
            </div>
          </div>

          <!-- Levels - Mobile first grid -->
          <div class="p-2 sm:p-3">
            <div
              class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3"
            >
              <div
                *ngFor="let level of lesson.levels"
                class="level-card cursor-pointer transition-all duration-200 hover:shadow-md active:scale-95"
                [class.completed]="level.isCompleted"
                [class.unlocked]="level.isUnlocked"
                [class.locked]="!level.isUnlocked"
                (click)="onLevelClick(course.id, unit.id, lesson.id, level.id)"
                [routerLink]="
                  level.isUnlocked
                    ? ['/level', course.id, unit.id, lesson.id, level.id]
                    : null
                "
              >
                <div
                  class="border rounded-lg p-2 sm:p-3 lg:p-4 relative min-h-[80px] sm:min-h-[100px] flex flex-col"
                  [ngClass]="{
                    'border-green-300 bg-green-50': level.isCompleted,
                    'border-blue-300 bg-blue-50':
                      level.isUnlocked && !level.isCompleted,
                    'border-gray-200 bg-gray-50 opacity-50': !level.isUnlocked,
                  }"
                >
                  <!-- Level Icon/Status -->
                  <div class="text-center mb-1 sm:mb-2">
                    <div
                      *ngIf="level.isCompleted"
                      class="text-lg sm:text-xl lg:text-2xl text-green-600"
                    >
                      ‚úÖ
                    </div>
                    <div
                      *ngIf="!level.isCompleted && level.isUnlocked"
                      class="text-lg sm:text-xl lg:text-2xl text-blue-600"
                    >
                      üéØ
                    </div>
                    <div
                      *ngIf="!level.isUnlocked"
                      class="text-lg sm:text-xl lg:text-2xl text-gray-400"
                    >
                      üîí
                    </div>
                  </div>

                  <!-- Level Info - Flexible layout -->
                  <div class="flex-1 flex flex-col justify-between">
                    <h5
                      class="font-medium text-xs sm:text-sm text-center mb-1 line-clamp-2"
                      [ngClass]="{
                        'text-green-800': level.isCompleted,
                        'text-blue-800': level.isUnlocked && !level.isCompleted,
                        'text-gray-500': !level.isUnlocked,
                      }"
                    >
                      {{ level.title }}
                    </h5>

                    <p
                      class="text-xs text-center text-gray-500 mb-1 sm:mb-2 line-clamp-2 flex-1"
                    >
                      {{ level.description }}
                    </p>

                    <!-- Stars - Bottom aligned -->
                    <div
                      *ngIf="level.isCompleted"
                      class="flex justify-center space-x-1"
                    >
                      <span
                        *ngFor="let star of getStarsArray(level.stars)"
                        class="text-yellow-400 text-sm sm:text-base"
                        >‚≠ê</span
                      >
                    </div>
                  </div>

                  <!-- Play Button - Responsive sizing -->
                  <div
                    *ngIf="level.isUnlocked && !level.isCompleted"
                    class="absolute -top-1 -right-1 sm:-top-2 sm:-right-2 bg-blue-500 text-white rounded-full w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center text-xs sm:text-sm font-bold"
                  >
                    ‚ñ∂
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
